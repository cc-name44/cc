<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        "use strict";

        // 第一：你知道自己需要的是什么样的数据结构？ ---->来自于对页面结构的分析
        
        // 第二：你获取的是那些结构：如何利用这些数据 重新打乱；利用语句等；组成你想要的的结构

        // 第三：不处理 直接于页面结构中使用


        // 原则上 相同数据结构的东西放在数组中 不同内容意义的数据放在对象中  单一数据 放在基本数据类型中；
        var data = [
    {
      Id: 1,
      title: "手冲咖啡6杯装(定制款)",
      price: "59",
      mack:
        '<span style="color: #FFFFFF;background: #AB7FD1; border-color: #AB7FD1">&#x7206;&#x54C1;</span>',
      nice: "1742",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/C8/19/rBACYVzH_sGAfrzRAAA8joHI5YU396.jpg",
      type_one: "咖啡",
      type_two: "手冲咖啡",
    },{
      Id: 1,
      title: "伯爵咖啡",
      price: "59",
      mack:
        '<span style="color: #FFFFFF;background: #AB7FD1; border-color: #AB7FD1">&#x7206;&#x54C1;</span>',
      nice: "1742",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/C8/19/rBACYVzH_sGAfrzRAAA8joHI5YU396.jpg",
      type_one: "咖啡",
      type_two: "手冲咖啡",
    },
    {
      Id: 2,
      title: "ANNY法式深焙袋冲咖啡2袋",
      price: "39",
      mack:
        '<span style="color: #FB4C81;background: ; border-color: #FB4C81">&#x4E00;&#x8D77;&#x62FC;</span>',
      nice: "910",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/51/BA/rBACW1uFacCAShDcAAA5qDQqJDo607.jpg",
      type_one: "咖啡",
      type_two: "咖啡粉",
    }, {
      Id: 2,
      title: "鹊桥咖啡",
      price: "39",
      mack:
        '<span style="color: #FB4C81;background: ; border-color: #FB4C81">&#x4E00;&#x8D77;&#x62FC;</span>',
      nice: "910",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/51/BA/rBACW1uFacCAShDcAAA5qDQqJDo607.jpg",
      type_one: "咖啡",
      type_two: "咖啡粉",
    },
    {
      Id: 1,
      title: "红苹果汁",
      price: "13",
      mack:
        '<span style="color: #FB4C81;background: ; border-color: #FB4C81">&#x4E00;&#x8D77;&#x62FC;</span>',
      nice: "910",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/51/BA/rBACW1uFacCAShDcAAA5qDQqJDo607.jpg",
      type_one: "果汁",
      type_two: "苹果汁",
    },
    {
      Id: 2,
      title: "青苹果汁",
      price: "50",
      mack:
        '<span style="color: #FB4C81;background: ; border-color: #FB4C81">&#x4E00;&#x8D77;&#x62FC;</span>',
      nice: "910",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/51/BA/rBACW1uFacCAShDcAAA5qDQqJDo607.jpg",
      type_one: "果汁",
      type_two: "苹果汁",
    },
    {
      Id: 1,
      title: "青橙汁",
      price: "50",
      mack:
        '<span style="color: #FB4C81;background: ; border-color: #FB4C81">&#x4E00;&#x8D77;&#x62FC;</span>',
      nice: "910",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/51/BA/rBACW1uFacCAShDcAAA5qDQqJDo607.jpg",
      type_one: "果汁",
      type_two: "橙汁",
    },
    {
      Id: 2,
      title: "黄橙汁",
      price: "50",
      mack:
        '<span style="color: #FB4C81;background: ; border-color: #FB4C81">&#x4E00;&#x8D77;&#x62FC;</span>',
      nice: "910",
      img_list_url:
        "http://bfs.biyao.com/group1/M00/51/BA/rBACW1uFacCAShDcAAA5qDQqJDo607.jpg",
      type_one: "果汁",
      type_two: "橙汁",
    },
  ];
    // var obj={};
    // for(var item of data){
    //     var {type_one,type_two}=item;
    //     if(!obj[type_one]){
    //         obj[type_one]=[];
    //     }
    //     var bool=obj[type_one].some(function(elem,index,array){
    //         return Object.keys(elem)[0]==type_two;
    //     })
    //     if(!bool){
    //         var obj1={};
    //         obj1[type_two]=[];
    //         obj[type_one].push(obj1);
    //     }
    //         for(var item1 of obj[item.type_one]){
    //             if(Object.keys(item1)[0]==type_two){
    //                 Object.values(item1)[0].push(item);
    //             }
    //         }
        
    // }
    // console.log(obj);

    var arr = []
        var flag = false;

        for (var x in data) {
            for (var y in arr) {
                flag = arr[y].type_two == data[x].type_two;
                console.log(arr[y].type_two,data[x].type_two)
            }
            if (!flag) {
                arr.push({type_two:data[x].type_two,lists:[data[x]]});
            }else{
                for( var m in arr){
                    if(arr[m].type_two == data[x].type_two){
                        arr[m].lists.push(data[x]);
                    }
                }
            }
        }


        console.log(arr);

    </script>
</body>
</html>